# 检验项目临床指南集合 - 使用说明

## 概述

检验项目临床指南集合是一个全面的、交互式的HTML页面，用于展示各类临床检验项目及其相关的临床指南。该页面提供了现代化的用户界面，支持搜索、筛选、主题切换等多种功能。

## 访问方式

### 本地访问
直接在浏览器中打开文件：
```
/home/engine/project/static/laboratory_test_guide.html
```

### 通过Web服务器访问
如果项目运行了Web服务器，可以通过以下URL访问：
```
http://localhost:8000/static/laboratory_test_guide.html
```

## 功能特性

### 1. 数据展示
- **18个检验类别**：涵盖血凝、肝功、肾功、血脂、糖代谢、心肌、离子、炎症、特种蛋白、甲功、乙肝三系、多种肿瘤标志物、继发性高血压相关检测、分子检测和病原学检测等
- **100+检验项目**：包含常见和特殊的临床检验项目
- **300+临床指南**：每个检验项目都关联了权威的国内外临床指南文献

### 2. 搜索功能
- **实时搜索**：在搜索框中输入关键词，系统会实时筛选匹配的检验项目和指南
- **智能匹配**：支持按检验项目名称、指南名称进行搜索
- **高亮提示**：搜索结果会高亮显示匹配内容

### 3. 分类筛选
- **下拉筛选**：通过类别下拉菜单选择特定的检验类别
- **组合筛选**：可以同时使用搜索和类别筛选
- **清除筛选**：点击"清除筛选"按钮快速重置所有筛选条件

### 4. 交互式展示
- **可折叠面板**：点击类别标题展开/收起该类别的检验项目
- **悬停效果**：鼠标悬停在指南上会显示完整内容
- **模态框详情**：点击指南项可以在模态框中查看完整信息

### 5. 主题切换
- **明暗主题**：点击右上角的主题切换按钮（🌙/☀️）切换明暗主题
- **本地存储**：主题偏好会保存在浏览器本地存储中
- **自动适配**：所有颜色和样式都会自动适配当前主题

### 6. 响应式设计
- **桌面端**：优化的大屏幕展示布局
- **移动端**：自适应的移动设备布局
- **平板端**：适配平板设备的中等屏幕

### 7. 打印友好
- **打印优化**：页面包含专门的打印样式
- **隐藏交互元素**：打印时自动隐藏搜索框、按钮等交互元素
- **保留内容**：保留所有检验项目和指南信息

## 键盘快捷键

- **`/`**：快速聚焦到搜索框
- **`Esc`**：关闭模态框

## 数据结构

### 检验类别
每个类别包含以下信息：
- **类别名称**：如"血凝"、"肝功"等
- **类别图标**：用于视觉识别的emoji图标
- **检验项目列表**：该类别下的所有检验项目

### 检验项目
每个检验项目包含：
- **项目名称**：如"APTT"、"ALT"等
- **相关指南列表**：与该项目相关的临床指南

### 临床指南
每条指南包含：
- **指南名称**：完整的指南文献名称
- **发布机构**：如WHO、NCCN、ESC等国际权威机构
- **发布年份**：指南的发布或更新年份

## 技术实现

### 技术栈
- **HTML5**：语义化标签
- **CSS3**：现代CSS特性（CSS变量、Grid、Flexbox、动画等）
- **JavaScript ES6+**：原生JavaScript，无外部依赖

### 性能优化
- **事件委托**：使用事件委托减少事件监听器数量
- **延迟加载**：优化初始加载性能
- **CSS优化**：使用CSS变量和现代布局技术
- **最小化DOM操作**：批量DOM更新

### 浏览器兼容性
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## 数据更新

如需更新检验项目或指南数据，请按照以下步骤：

1. 在HTML文件中找到 `laboratoryData` 对象（约第880行）
2. 按照现有格式添加或修改数据：

```javascript
"类别名称": {
  icon: "图标emoji",
  tests: {
    "检验项目名称": [
      "指南名称1",
      "指南名称2",
      ...
    ],
    ...
  }
}
```

3. 保存文件后刷新浏览器即可看到更新

## 常见问题

### Q: 为什么搜索没有结果？
A: 请检查：
1. 关键词是否正确
2. 是否同时应用了类别筛选
3. 点击"清除筛选"按钮重置

### Q: 如何打印页面？
A: 使用浏览器的打印功能（Ctrl+P 或 Cmd+P），页面会自动应用打印样式。

### Q: 主题设置会保存吗？
A: 是的，主题偏好会保存在浏览器本地存储中，下次访问时会自动应用。

### Q: 是否支持导出数据？
A: 当前版本不支持导出功能。如需导出，可以：
1. 使用浏览器的"另存为"功能
2. 使用打印功能输出为PDF
3. 在HTML文件中直接访问 `laboratoryData` 对象

## 维护和扩展

### 添加新的检验类别
在 `laboratoryData` 对象中添加新的类别：

```javascript
"新类别名称": {
  icon: "🔬",
  tests: {
    "项目1": ["指南1", "指南2"],
    "项目2": ["指南3", "指南4"]
  }
}
```

### 修改样式
CSS样式定义在 `<style>` 标签中（第9-762行），使用CSS变量定义了主要的颜色和样式属性，便于统一修改。

### 添加新功能
主要的JavaScript功能函数位于 `<script>` 标签中（第884-1784行），包括：
- `renderCategories()`：渲染类别列表
- `handleSearch()`：处理搜索
- `toggleCategory()`：展开/收起类别
- `showGuideDetail()`：显示指南详情

## 版本信息

- **版本**：1.0.0
- **创建日期**：2024-11
- **最后更新**：2024-11

## 联系方式

如有问题或建议，请通过项目仓库提交Issue。
